version: 2
jobs:
  setup:
    working_directory: ~/python_package_template
    docker:
      - image: circleci/python:3.6.2
    steps:
      - checkout
      - run: mkdir venv
      - run: sudo pip install -r ./test-requirements.txt --upgrade --force-reinstall
      - run: sleep 25

  py36:
    docker:
      - image: circleci/python:3.6.2
    steps:
      - checkout
      - run: pylint ./python_package_template/
      - run: sleep 5

workflows:
  version: 2
  setup_and_py36:
    jobs:
      - setup
      - py36
